

<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Features &mdash; convexgating 0.1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=eafc0fe6" />
      <link rel="stylesheet" type="text/css" href="_static/custom_cookietemple.css?v=057798b9" />
      <link rel="stylesheet" type="text/css" href="_static/dark_mode_css/general.css?v=c0a7eb24" />
      <link rel="stylesheet" type="text/css" href="_static/dark_mode_css/dark.css?v=70edf1c7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=2389946f"></script>
      <script src="_static/doctools.js?v=888ff710"></script>
      <script src="_static/sphinx_highlight.js?v=4825356b"></script>
      <script src="_static/dark_mode_js/default_dark.js?v=fd565c74"></script>
      <script src="_static/dark_mode_js/theme_switcher.js?v=358d3910"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Features" href="readme.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="#" class="icon icon-home">
            convexgating
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="readme.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="readme.html#installation">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="readme.html#usage">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="readme.html#credits">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributor Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="code_of_conduct.html">Contributor Covenant Code of Conduct</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">convexgating</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Features</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <a class="reference internal image-reference" href="https://raw.githubusercontent.com/buettnerlab/convexgating/add_parameter_option/figures/CG_logo_v2.PNG"><img alt="overview" src="https://raw.githubusercontent.com/buettnerlab/convexgating/add_parameter_option/figures/CG_logo_v2.PNG" style="width: 800px;" /></a>
<p><a class="reference external" href="https://pypi.org/project/convexgating/"><img alt="PyPI" src="https://img.shields.io/pypi/v/convexgating.svg" /></a> <a class="reference external" href="https://pypi.org/project/convexgating"><img alt="Python Version" src="https://img.shields.io/pypi/pyversions/convexgating" /></a> <a class="reference external" href="https://opensource.org/licenses/MIT"><img alt="License" src="https://img.shields.io/github/license/buettnerlab/convexgating" /></a> <a class="reference external" href="https://convexgating.readthedocs.io/"><img alt="Read the documentation at https://convexgating.readthedocs.io/" src="https://img.shields.io/readthedocs/convexgating/latest.svg?label=Read%20the%20Docs" /></a> <a class="reference external" href="https://github.com/buettnerlab/convexgating/actions?workflow=Package"><img alt="Build Package Status" src="https://github.com/buettnerlab/convexgating/workflows/Build%20convexgating%20Package/badge.svg" /></a> <a class="reference external" href="https://github.com/buettnerlab/convexgating/actions?workflow=Tests"><img alt="Run Tests Status" src="https://github.com/buettnerlab/convexgating/workflows/Run%20convexgating%20Tests/badge.svg" /></a> <a class="reference external" href="https://codecov.io/gh/buettnerlab/convexgating"><img alt="Codecov" src="https://codecov.io/gh/buettnerlab/convexgating/branch/master/graph/badge.svg" /></a> <a class="reference external" href="https://github.com/pre-commit/pre-commit"><img alt="pre-commit" src="https://img.shields.io/badge/pre--commit-enabled-brightgreen?logo=pre-commit&amp;logoColor=white" /></a> <a class="reference external" href="https://github.com/psf/black"><img alt="Black" src="https://img.shields.io/badge/code%20style-black-000000.svg" /></a></p>
<section id="features">
<h1>Features<a class="headerlink" href="#features" title="Permalink to this heading"></a></h1>
<p>Convex gating is a Python package to infer an optimal gating strategy from flow, cyTOF or Ab/CITE-seq data. Convex gating expects a labelled input (for instance, from clustering) and returns a gating panel to separate the selected group of events (e.g. a cluster) from all other events (see Fig. 1a).
For each cluster, it reports the purity (precision), yield (recall) and the harmonic mean of both metrics (F1 score) for each gate hierarchy and the entire gating strategy. It relies on the scanpy/anndata for the data format and data pre-processing and further on PyTorch for stochastic gradient descent. Therefore, resulting gates may slightly vary.</p>
<a class="reference internal image-reference" href="https://raw.githubusercontent.com/buettnerlab/convexgating/main/figures/fig1_v4.PNG"><img alt="overview" src="https://raw.githubusercontent.com/buettnerlab/convexgating/main/figures/fig1_v4.PNG" style="width: 800px;" /></a>
<p>The iterative procedure to find a suitable gate before applying the convex hull is illustrated in the following graphic.</p>
<a class="reference internal image-reference" href="https://raw.githubusercontent.com/buettnerlab/convexgating/main/figures/fig_update_step_v5.png"><img alt="Update" src="https://raw.githubusercontent.com/buettnerlab/convexgating/main/figures/fig_update_step_v5.png" style="width: 800px;" /></a>
</section>
<section id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this heading"></a></h1>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git clone https://github.com/buettnerlab/convexgating.git</span>
<span class="go">cd convexgating</span>
<span class="go">pip install -e .</span>
</pre></div>
</div>
<p>Installation time should not exceed 5 minutes. Installation has been successfully tested on Windows and Linux operating systems. We experienced issues with MacOS with Apple Silicon M1/M2 CPUs.</p>
</section>
<section id="usage">
<h1>Usage<a class="headerlink" href="#usage" title="Permalink to this heading"></a></h1>
<section id="single-target-population">
<h2>Single Target Population<a class="headerlink" href="#single-target-population" title="Permalink to this heading"></a></h2>
<p>Generating gating strategy for cells or events labeled ‘cluster_A’ from an AnnData object (adata) using labels found in adata.obs[cluster_string].</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">import convexgating as cg</span>
<span class="go">import scanpy as sc</span>

<span class="go">adata = sc.read_h5ad(adata_path)</span>
<span class="go">cluster_string = &#39;clustering&#39;                                       #column in adata.obs</span>
<span class="go">target_cluster = &#39;cluster_A&#39;                                        #category in adata.obs[cluster_string]</span>
<span class="go">save = save_path</span>
<span class="go">cg.tools.CONVEX_GATING(adata=adata,</span>
<span class="go">          cluster_numbers = [target_cluster],</span>
<span class="go">          cluster_string = cluster_string,</span>
<span class="go">          save_path=save)</span>
</pre></div>
</div>
</section>
<section id="multiple-target-population">
<h2>Multiple Target Population<a class="headerlink" href="#multiple-target-population" title="Permalink to this heading"></a></h2>
<p>Generating a series of gating strategies for cells or events labeled ‘cluster_A’,’cluster_B’,’cluster_C’ from an AnnData object (adata) using labels found in adata.obs[cluster_string].</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">import convexgating as cg</span>
<span class="go">import scanpy as sc</span>

<span class="go">adata = sc.read_h5ad(adata_path)</span>
<span class="go">cluster_string = &#39;clustering&#39;                                          #column in adata.obs</span>
<span class="go">target_clusters = [&#39;cluster_A&#39;,&#39;cluster_B&#39;,&#39;cluster_C&#39;]                #categories in adata.obs[cluster_string]</span>
<span class="go">save = save_path</span>
<span class="go">cg.tools.CONVEX_GATING(adata=adata,</span>
<span class="go">          cluster_numbers = target_clusters,</span>
<span class="go">          cluster_string = cluster_string,</span>
<span class="go">          save_path=save)</span>
</pre></div>
</div>
</section>
<section id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this heading"></a></h2>
<p>A usage example is available in the <em>docs/tutorials/tutorial_01.ipynb</em> file located in this repository.</p>
</section>
<section id="further-details">
<h2>Further Details<a class="headerlink" href="#further-details" title="Permalink to this heading"></a></h2>
<p>Please see the <a class="reference external" href="https://convexgating.readthedocs.io/en/latest/usage.html">Command-line Reference</a> for further details.</p>
</section>
</section>
<section id="credits">
<h1>Credits<a class="headerlink" href="#credits" title="Permalink to this heading"></a></h1>
<p>This package was created with <a class="reference external" href="https://cookietemple.com">cookietemple</a> using <a class="reference external" href="https://github.com/audreyr/cookiecutter">Cookiecutter</a> based on <a class="reference external" href="https://github.com/cjolowicz/cookiecutter-hypermodern-python">Hypermodern_Python_Cookiecutter</a>.</p>
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="readme.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="readme.html#installation">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="readme.html#usage">Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="readme.html#single-target-population">Single Target Population</a></li>
<li class="toctree-l2"><a class="reference internal" href="readme.html#multiple-target-population">Multiple Target Population</a></li>
<li class="toctree-l2"><a class="reference internal" href="readme.html#example">Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="readme.html#further-details">Further Details</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="readme.html#credits">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="usage.html#installation-from-sources">Installation from sources</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api.html#core-functions">Core functions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="reference.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributor Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#how-to-report-a-bug">How to report a bug</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#how-to-request-a-feature">How to request a feature</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#how-to-set-up-your-development-environment">How to set up your development environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#how-to-test-the-project">How to test the project</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#how-to-build-and-view-the-documentation">How to build and view the documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#how-to-submit-changes">How to submit changes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Credits</a><ul>
<li class="toctree-l2"><a class="reference internal" href="authors.html#development-lead">Development Lead</a></li>
<li class="toctree-l2"><a class="reference internal" href="authors.html#contributors">Contributors</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="code_of_conduct.html">Contributor Covenant Code of Conduct</a><ul>
<li class="toctree-l2"><a class="reference internal" href="code_of_conduct.html#our-pledge">Our Pledge</a></li>
<li class="toctree-l2"><a class="reference internal" href="code_of_conduct.html#our-standards">Our Standards</a></li>
<li class="toctree-l2"><a class="reference internal" href="code_of_conduct.html#our-responsibilities">Our Responsibilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="code_of_conduct.html#scope">Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="code_of_conduct.html#enforcement">Enforcement</a></li>
<li class="toctree-l2"><a class="reference internal" href="code_of_conduct.html#attribution">Attribution</a></li>
</ul>
</li>
</ul>
</div>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="readme.html" class="btn btn-neutral float-right" title="Features" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Vincent Friedrich.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>